(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var o=t(16),c=t.n(o),r=t(4),a=t(2),s=t(3),i=t.n(s),l="/api/persons",u=t(0),h=function(e){var n=e.morePerson,t=e.nameChange,o=e.numberChange;return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{onChange:t})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{onChange:o})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})})},d=function(e){var n=e.persons,t=e.search,o=e.deleteP,c=n.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())}));return console.log("filterOut is  ",c),Object(u.jsx)("div",{children:c.map((function(e,n){return Object(u.jsxs)("div",{children:[e.name," ",e.number,Object(u.jsx)("button",{onClick:function(){return o(e)},children:"delete"})]},n)}))})},j=function(e){var n=e.searchChanger;return Object(u.jsx)("form",{children:Object(u.jsxs)("div",{children:["filter shown with:",Object(u.jsx)("input",{onChange:n})]})})},b=function(){for(var e=Object(a.useState)([]),n=Object(r.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),s=Object(r.a)(c,2),b=s[0],f=s[1],g=Object(a.useState)(""),m=Object(r.a)(g,2),O=m[0],p=m[1],v=Object(a.useState)(""),x=Object(r.a)(v,2),w=x[0],C=x[1],k=Object(a.useState)(""),L=Object(r.a)(k,2),y=L[0],S=L[1],P=0;P<t.length;P++)console.log(P),console.log(w,"true or false",t[P].name.toLocaleLowerCase().includes(w.toLocaleLowerCase()));return Object(a.useEffect)((function(){console.log("this the effect hook"),i.a.get(l).then((function(e){o(e.data)})),console.log("check persons data",t)}),[]),console.log("check persons data2",t),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)("h2",{className:"message",children:y}),Object(u.jsx)(j,{value:w,searchChanger:function(e){console.log("checking is the search update",w),C(e.target.value)}}),Object(u.jsx)("h2",{children:"add a new"}),Object(u.jsx)(h,{morePerson:function(e){e.preventDefault();var n={name:b,number:O};console.log("checking list for no repeat",t);for(var c,r=!0,a=0,s=0;s<t.length;s++)t[s].name===b&&(r=!1,a=s);if(r)(c=n,i.a.post(l,c)).then((function(e){o(t.concat(e.data))})).catch((function(e){var n=e.response.data.error;console.log(n),console.log("type",typeof n),S(n)}));else if(window.confirm(b+" is already added to phonebook, replace the old number with a new one?")){var u=t[a].id;(function(e,n){return i.a.put(l+"/"+e,n)})(u,n).then((function(e){console.log("response",e),o(t.filter((function(n){return n!==u?n:e.data})))}))}S("Added "+b),setTimeout((function(){S(null)}),5e3),console.log("this is the list after adding",t)},nameChange:function(e){console.log("this is for changname",e.target.value),f(e.target.value)},numberChange:function(e){console.log("this is for changnumber",e.target.value),p(e.target.value)}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(d,{persons:t,search:w,deleteP:function(e,n){var t;window.confirm("Delete "+e.name+" ?")&&(console.log("event is",e.id),(t=e.id,i.a.delete(l+"/"+t)).then((function(e){o(n.filter((function(n){return n!==e.data})))})).catch((function(n){S("Information of ".concat(e.name," has already been removed from server"))})))}})]})};t(40);c.a.render(Object(u.jsx)(b,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.93ab2be1.chunk.js.map